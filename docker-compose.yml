version: '3.8'

services:
  reclaimarr:
    image: ghcr.io/okhr/reclaimarr:latest
    container_name: reclaimarr
    restart: unless-stopped
    environment:
      # --- Required API Settings ---
      - JELLYFIN_URL=http://jellyfin:8096
      - JELLYFIN_API_KEY=${JELLYFIN_API_KEY}
      - JELLYSTAT_URL=http://jellystat:3000
      - JELLYSTAT_API_KEY=${JELLYSTAT_API_KEY}
      - JELLYSEERR_URL=http://jellyseerr:5055
      - JELLYSEERR_API_KEY=${JELLYSEERR_API_KEY}
      - RADARR_URL=http://radarr:7878
      - RADARR_API_KEY=${RADARR_API_KEY}
      - SONARR_URL=http://sonarr:8989
      - SONARR_API_KEY=${SONARR_API_KEY}
      
      # --- Required Path ---
      - MEDIA_PATH=/media

      # --- Optional Settings ---
      - TARGET_USAGE=80
      - MIN_AGE_DAYS=90
      - DRY_RUN=true
      - VERBOSE=false
      - CRON_SCHEDULE="0 3 * * *" # Runs every day at 3 AM
    volumes:
      # Mount your media library. This path must be accessible to Reclaimarr.
      # For example, if your media is at /srv/media on the host:
      - /srv/media:/media
